# 北谷町商工会青年部
# 部員情報共有サイト × NotebookLM 活用（プロンプト自動生成）仕様書

作成者：T&Lサポート株式会社 玉城祐輔（企画）

---

## 0. 本書の目的
北谷町商工会青年部の部員情報共有サイトに入力されたプロフィール情報をもとに、
セミナー当日に **NotebookLMへ貼り付けてすぐ活用できる「最適形式のテキスト」** を自動生成し、
部員同士の交流・紹介・ビジネスマッチングを短時間で加速させる。

本書は以下を定義する。
- 既存システム仕様（前提）
- 追加機能：NotebookLM向け **プロンプト自動生成機能** の仕様
- 生成物（テンプレート）と出力ルール
- セミナー運用手順（1時間で破綻しない回し方）
- セキュリティ/情報取り扱いの注意点

> 参照：北谷町商工会青年部 部員情報共有システム 詳細仕様書（添付）

---

## 1. 前提（既存システム概要）
### 1.1 システム目的
部員同士の交流とビジネスマッチングを促進する情報共有Webアプリ。

### 1.2 技術スタック（既存）
- Vue.js 3 + Vite
- Firebase（Authentication / Firestore / Storage / Hosting）

### 1.3 ページ構成（既存）
- `/mypage`：プロフィール入力・編集（ログイン必須）
- `/members`：部員一覧（ログイン不要）
- `/member/:id`：部員詳細（ログイン不要）
- `/`：トップ（ガイド、GPTs案内、QR等）

### 1.4 Firestore コレクション（既存）
- `profiles/{uid}`
  - `name`, `phoneticName`, `company`, `bio`, `needs`, `pastTransactions`, `providableInfo`, `seekingInfo`, `website`, `sns`, `youtube`, `profileImageUrl`

---

## 2. 追加機能の全体像（今回追加すること）
### 2.1 追加する機能
部員がマイページで入力したプロフィール情報から、以下の2種類のテキストを自動生成し、
サイト上で **ワンクリックでコピー** できるようにする。

- **A：NotebookLM「ソース用」テキスト（保存用）**
  - NotebookLMに「テキストとして追加（ソース化）」する用途
  - 以後の相談・企画の根拠として使い回せる

- **B：NotebookLM「依頼用」プロンプト（実行用）**
  - NotebookLMのチャット欄に貼り、紹介文・強み・コラボ案・30日施策を一発生成

> 重要：受講者が「どこに貼るか」で迷子になりやすいため、
> コピーUIは **[A：ソースに貼る] [B：チャットに貼る]** の2ボタンを推奨。

### 2.2 追加しないこと（明確化）
- StudioのSlide Deck等「スライド自動生成」は本設計の対象外（使用しない）
- 補助金の具体制度選定は1時間枠では主役にしない（希望者の応用として扱う）

---

## 3. ユースケース（ユーザー目線）
### 3.1 事前準備（部員）
1) 部員がプロフィールサイトに入力（できるだけ具体的に）
2) マイページで「NotebookLM用テキスト」を生成→コピー

### 3.2 セミナー当日（部員）
1) NotebookLMを開く
2) A（ソース用）を貼り付け、ノートブックのソースとして追加
3) B（依頼用）をチャット欄に貼る
4) その場で以下が生成される
   - 30秒自己紹介 / 100字・300字紹介文
   - 強み・差別化
   - 紹介してほしい相手の定義
   - 青年部内コラボ案
   - 30日でできる軽いマーケ施策

### 3.3 セミナー当日（交流設計：ペアワーク推奨）
- 相手の出力結果を見て、
  - 「紹介するときの一言」
  - 「繋げるべき相手候補」
  - 「コラボ仮説」
  をその場で作る（交流が加速する）

---

## 4. UI/UX 要件（追加仕様）
### 4.1 追加UI（/mypage）
プロフィール入力フォームの下部（保存ボタン付近）に、
以下セクションを追加する。

**セクション名（例）**：
- 「NotebookLM用 テキスト生成（コピペ用）」

**表示要素**：
1) 説明テキスト（短く）
   - 「AはNotebookLMに“ソースとして追加”する文章」
   - 「BはNotebookLMのチャットに貼って“紹介文や施策案を出す”指示文」

2) ボタン
   - `生成する`（または自動更新でも可）
   - `A：ソース用をコピー`
   - `B：依頼用をコピー`

3) プレビュー（折りたたみ可）
   - Aの全文プレビュー
   - Bの全文プレビュー

4) コピー後のトースト通知
   - 「コピーしました」

### 4.2 コピー方式
- `navigator.clipboard.writeText()` によるコピー
- モバイル対応（コピーできない環境ではテキスト選択を可能に）

### 4.3 自動更新の推奨
- プロフィール保存成功後にA/Bを再生成
- もしくは入力変更のたびにローカルで再生成（保存前でもOK）

---

## 5. 生成ロジック（ルール）
### 5.1 基本方針
- AIの“推測”を減らすため、入力値はできるだけ構造化して渡す
- 未入力項目は空欄にしない（AIが補完し始めるのを防ぐ）

### 5.2 未入力の扱い
- 文字列が空/NULLの場合：`（未入力）` を出力
- URL項目で空の場合：`（未入力）`

### 5.3 テキスト整形
- 先頭/末尾の空白をトリム
- 連続改行は最大2つまで
- 箇条書き（「・」「-」）が入力されている場合は保持

### 5.4 複数事業への対応
`bio` に複数事業が混在するケースがあるため、
B（依頼用）プロンプトに以下のルールを追加して分割を促す。
- 「複数事業がある場合は“事業A/B/C”に分け、最後に共通の強みをまとめる」

---

## 6. 生成物の仕様（テンプレート）

### 6.1 A：NotebookLM「ソース用」テキスト（保存用）
**用途**：NotebookLMで「テキストをソースとして追加」する。

**テンプレート（完成形）**：

```text
# 部員プロフィール（AI用ソース）
更新日：{{updated_at}}

【氏名】{{name}}（{{phoneticName}}）
【会社名】{{company}}

【自己紹介・事業内容】
{{bio}}

【対応できるニーズ（できること）】
{{needs}}

【過去に青年部内で取引した事例】
{{pastTransactions}}

【提供できる情報（得意領域・共有できる知見）】
{{providableInfo}}

【求めている情報（紹介してほしいこと・探していること）】
{{seekingInfo}}

【Web/SNS/YouTube】
- Web：{{website}}
- SNS：{{sns}}
- YouTube：{{youtube}}

【補足（任意）】
- 対象エリア/客層：（未入力）
- 価格帯/最低ロット：（未入力）
- 連絡手段：（未入力）
```

**差し込みルール**：
- `{{phoneticName}}` が未入力の場合は `（未入力）`
- URL未入力は `（未入力）`

---

### 6.2 B：NotebookLM「依頼用」プロンプト（実行用）
**用途**：NotebookLMチャットに貼り、成果物を一発生成する。

**テンプレート（完成形）**：

```text
あなたは「青年部のビジネスマッチングを加速する編集者兼マーケ担当」です。
次の【AI用ソース】の情報“だけ”を根拠に、推測は「仮説」と明記して出力してください。

※複数事業がある場合は「事業A/B/C」に分け、最後に“共通の強み”をまとめてください。

# 出力してほしいもの（順番固定）
1) 事業を一言で（15〜25文字）
2) 30秒の自己紹介（口頭用）
3) 紹介文：100字／300字（青年部チャット用）
4) 強み・差別化：3つ（根拠となる記載も一緒に）
5) 「紹介してほしい相手」の定義：3パターン（困りごと起点で）
6) 青年部内コラボ案：3つ（相手業種例も付ける）
7) 30日でできる“軽いマーケ施策”プラン（週ごと／コスト小さめ）
8) 追加で聞くべき質問：5つ（優先度順）

# 出力ルール
- 断定しない。根拠が薄い場合は「仮説」と明記。
- 専門用語は噛み砕く。
- 文章は堅すぎない（青年部の場に合うトーン）。
- 箇条書きを多用し、読みやすく。

【AI用ソース】
{{SOURCE_TEXT}}
```

**実装上の注記**：
- `{{SOURCE_TEXT}}` には、Aで生成した「ソース用テキスト」全文を埋め込む
  - もしくは「ここにAを貼る」と指示し、ユーザー貼付でも可

---

## 7. 入力ガイド（部員に配ると精度が上がる）
### 7.1 `bio（自己紹介・事業内容）` の書き方
- 1行目：何屋か（誰に何を）
- 2行目：強み（他と違う点）
- 3行目：実績/数字/具体例（あれば）
- 4行目：趣味や人柄（交流が生まれる）

### 7.2 `needs（対応できるニーズ）`
- 「◯◯で困ってる人」にすると紹介されやすい
  - 例：
    - 「店舗の集客を強化したい飲食店」
    - 「空室対策をしたい賃貸オーナー」
    - 「内装工事の業者を探している事業者」

### 7.3 `seekingInfo（求めている情報）`
- “欲しい紹介”を明確に
  - 例：
    - 「新規出店予定の飲食店オーナーを探しています」
    - 「SNS運用を任せられる人を探しています」

---

## 8. セミナー運用（1時間で成功させる設計）
### 8.1 セミナーの共通ゴール
「紹介される事業説明キット」を全員が持ち帰る。
- 30秒自己紹介
- 100字/300字紹介文
- 強み・差別化
- 紹介してほしい相手
- コラボ案
- 30日施策

### 8.2 当日の流れ（推奨）
- 0–5分：狙い説明（スポットAI→プロジェクトAI）
- 5–15分：サイトからA/Bコピー→NotebookLMに貼る
- 15–35分：Bで出力→各自で1回だけ微修正
- 35–50分：ペアで相互紹介ワーク（紹介の一言を作る）
- 50–60分：共有・次の一手（希望者のみ応用へ）

---

## 9. セキュリティ・情報取り扱い
### 9.1 重要な前提
既存仕様では `/members` と `/member/:id` がログイン不要で閲覧可能。

### 9.2 推奨方針（どちらか選ぶ）
- **A案（安全優先）**：部員一覧/詳細はログイン必須にする
- **B案（公開運用）**：掲載情報を公開前提に限定（個人連絡先・住所・機微情報は記載しない）

### 9.3 AI利用時の注意
- 出力内容は最終確認が必要（誤りや過度な一般化が起き得る）
- 機微情報（個人情報・契約条件の詳細・社内秘）はAIに貼らない運用を推奨

---

## 10. 受け入れ条件（Acceptance Criteria）
### 10.1 機能要件
- マイページでA/Bが生成できる
- A/Bをワンクリックでコピーできる
- 未入力項目が `（未入力）` で出力される
- モバイルでもコピー可能（不可の場合は選択しやすい）

### 10.2 品質要件
- 生成テキストが極端に長くならない（Aは概ね1〜2画面程度）
- 改行・箇条書きが崩れない
- URLがそのまま貼り付け可能

### 10.3 セミナー要件
- 参加者が15分以内にNotebookLMへ貼り付け完了できる
- 参加者が30分以内に「紹介文（100/300字）」を取得できる

---

## 11. 今後の拡張アイデア（任意）
- トップページに「NotebookLMの開き方（スマホ）」導線
- 生成結果を「青年部チャット用に整形」ボタン（100字/300字だけ抽出）
- お気に入り保存（自分の紹介文を複数パターン保持）
- 検索/フィルタ（業種、求めている情報タグなど）

---

## 12. 実装メモ（開発者向け）
- 生成処理はフロントで完結可能（テンプレ差し込み）
- `updated_at` は Firestore の `serverTimestamp()` を追加するか、クライアント日時で代替
- `{{SOURCE_TEXT}}` 埋め込み方式の場合、BはAの全文を含むため長くなる
  - 代替案：B内で「ここにAを貼る」と指示し、ユーザーに2段階貼付させる

---

以上
