# 北谷町商工会青年部 部員情報共有システム 詳細仕様書

## 1. システム概要

**北谷町商工会青年部** の部員同士の交流とビジネスマッチングを促進するための情報共有Webアプリケーション。

- **公開URL**: https://chatan-members-site.web.app
- **技術スタック**: Vue.js 3 + Vite + Firebase（Authentication / Firestore / Storage / Hosting）
- **AIアシスタント**: プロフィール作成支援 GPTs（ChatGPT）を提供
  - https://chatgpt.com/g/g-686e38248dd08191ab49db04c0ac3c8d-qing-nian-bu-hurohuiruzuo-cheng-kun?model=gpt-4o

---

## 2. ユーザーフロー全体像

```
① ユーザー登録（メール or Google）
    ↓
② ログイン
    ↓
③ マイページでプロフィール入力・編集
    ↓
④ 部員一覧に表示される
    ↓
⑤ 他の部員が詳細プロフィールを閲覧
```

---

## 3. ページ構成と各ページの役割

| パス               | ページ名           | ログイン必要 | 説明                                                   |
| ------------------ | ------------------ | :----------: | ------------------------------------------------------ |
| `/`                | トップページ       |      ✗       | システム紹介・使い方ガイド・GPTsリンク・QRコード       |
| `/about`           | ユーザー登録       |      ✗       | 新規アカウント作成                                     |
| `/login`           | ログイン           |      ✗       | 既存アカウントでログイン                               |
| `/forgot-password` | パスワードリセット |      ✗       | パスワードリセットメール送信                           |
| `/mypage`          | マイページ         |      ✓       | **プロフィール編集・アカウント管理（メイン入力画面）** |
| `/members`         | 部員一覧           |      ✗       | 全部員のプロフィールカード一覧（ランダム順）           |
| `/member/:id`      | 部員詳細           |      ✗       | 個別部員のプロフィール詳細表示                         |

---

## 4. ユーザー登録時の入力項目（`/about`）

### 4.1 メールアドレス登録の場合

| 項目           | 入力タイプ | 必須 | バリデーション | プレースホルダー    |
| -------------- | ---------- | :--: | -------------- | ------------------- |
| メールアドレス | `email`    |  ✓   | メール形式     | `email@example.com` |
| パスワード     | `password` |  ✓   | 6文字以上      | `6文字以上`         |

### 4.2 Googleアカウント登録の場合

- Googleポップアップ認証で登録（入力不要）

---

## 5. ログイン時の入力項目（`/login`）

| 項目           | 入力タイプ | 必須 | プレースホルダー    |
| -------------- | ---------- | :--: | ------------------- |
| メールアドレス | `email`    |  ✓   | `email@example.com` |
| パスワード     | `password` |  ✓   | `パスワード`        |

- Googleアカウントでのログインも可能（ボタンクリックのみ）

---

## 6. プロフィール入力項目（`/mypage`）★ 最重要セクション

マイページでは、部員が以下の情報を入力・編集します。これが **部員一覧** と **部員詳細ページ** に表示されます。

### 6.1 プロフィール入力フォーム

| #   | 項目名             | ラベル表記（画面上）              | 入力タイプ                | データベースフィールド名 | プレースホルダー / 入力例                                    | 備考                                                                                |
| --- | ------------------ | --------------------------------- | ------------------------- | ------------------------ | ------------------------------------------------------------ | ----------------------------------------------------------------------------------- |
| 1   | プロフィール画像   | （画像クリックで選択）            | ファイル選択 → トリミング | `profileImageUrl`        | -                                                            | 画像アップロード後、円形トリミングUI表示。JPEG形式で保存。                          |
| 2   | 氏名               | 👤 氏名                           | `text`                    | `name`                   | `お名前を入力`                                               | 部員の本名                                                                          |
| 3   | フリガナ           | あ フリガナ                       | `text`                    | `phoneticName`           | `フリガナを入力`                                             | カタカナ表記                                                                        |
| 4   | 会社名             | 🏢 会社名                         | `text`                    | `company`                | `会社名を入力`                                               | 所属企業・屋号                                                                      |
| 5   | 自己紹介・事業内容 | 📝 自己紹介・事業内容             | `textarea`（5行）         | `bio`                    | `ご自身の事業や趣味、得意なことなどを自由に紹介してください` | 自由記述。事業内容・自己紹介を統合した項目。                                        |
| 6   | ニーズ対応         | 🎯 どのようなニーズに対応できるか | `textarea`（3行）         | `needs`                  | `例）会社の忘年会や接待で利用できる飲食店を探している方。`   | 自分が対応可能なニーズ・需要の説明                                                  |
| 7   | 青年部内取引事例   | 🤝 過去に青年部内で取引した事例   | `textarea`（3行）         | `pastTransactions`       | `例）○○さんのオフィスの内装工事を担当しました。`             | 部員同士の過去の取引実績                                                            |
| 8   | 提供できる情報     | 💡 提供できる情報                 | `textarea`（3行）         | `providableInfo`         | `例）車両を長持ちさせるメンテナンスのコツ。`                 | 自分が共有可能な知識・ノウハウ                                                      |
| 9   | 求めている情報     | 🔍 求めている情報                 | `textarea`（3行）         | `seekingInfo`            | `例）新メニューのPRを手伝ってくれる事業者を探しています。`   | 自分が探している情報やパートナー                                                    |
| 10  | ウェブサイト       | 🌐 ウェブサイト                   | `url`                     | `website`                | `https://example.com`                                        | 会社サイトやブログ等のURL                                                           |
| 11  | SNSリンク          | 📢 SNSリンク                      | `url`                     | `sns`                    | `https://twitter.com/username`                               | SNSのプロフィールURL（Twitter/X, Instagram, Facebook, LinkedIn, TikTok を自動判別） |
| 12  | YouTubeリンク      | 📺 YouTubeリンク                  | `url`                     | `youtube`                | `https://youtube.com/channel/...`                            | YouTube動画/チャンネルURL。動画URLの場合は詳細ページで埋め込み再生される            |

### 6.2 プロフィール画像のトリミング機能

- 画像選択後、**円形トリミングモーダル**が表示される
- アスペクト比 1:1 でトリミング
- トリミング後 JPEG 形式に変換されてプレビューに反映
- 保存時に Firebase Storage（`profileImages/{userId}/{filename}`）にアップロード

---

## 7. アカウント管理の入力項目（`/mypage` 下部）

### 7.1 メールアドレス変更（パスワード認証ユーザーのみ）

| 項目                 | 入力タイプ              | プレースホルダー       |
| -------------------- | ----------------------- | ---------------------- |
| 現在のメールアドレス | `email`（読み取り専用） | -                      |
| 新しいメールアドレス | `email`                 | `新しいメールアドレス` |
| 現在のパスワード     | `password`              | `本人確認のため`       |

### 7.2 パスワード変更（パスワード認証ユーザーのみ）

| 項目                     | 入力タイプ | プレースホルダー   |
| ------------------------ | ---------- | ------------------ |
| 現在のパスワード         | `password` | `現在のパスワード` |
| 新しいパスワード         | `password` | `6文字以上`        |
| 新しいパスワード（確認） | `password` | `再度入力`         |

### 7.3 Googleアカウント連携（パスワード認証ユーザーのみ）

- ボタンクリックでGoogleアカウントと連携

### 7.4 アカウント削除

- **パスワード認証ユーザー**: パスワード入力で本人確認後に削除
- **Google認証ユーザー**: 「削除します」と入力して確認後に削除
- 削除される情報: プロフィールデータ（Firestore）、プロフィール画像（Storage）、認証情報（Auth）

---

## 8. データベース構造（Firestore）

### 8.1 コレクション: `profiles`

ドキュメントID = Firebase Auth のユーザーUID

```json
{
  "name": "氏名（例: 田中 太郎）",
  "phoneticName": "フリガナ（例: タナカ タロウ）",
  "company": "会社名（例: 田中建設株式会社）",
  "bio": "自己紹介・事業内容（自由記述テキスト）",
  "needs": "どのようなニーズに対応できるか（自由記述テキスト）",
  "pastTransactions": "過去に青年部内で取引した事例（自由記述テキスト）",
  "providableInfo": "提供できる情報（自由記述テキスト）",
  "seekingInfo": "求めている情報（自由記述テキスト）",
  "website": "ウェブサイトURL",
  "sns": "SNSプロフィールURL",
  "youtube": "YouTubeリンクURL",
  "profileImageUrl": "プロフィール画像URL（Firebase Storage上のURL）"
}
```

### 8.2 ストレージ: `profileImages/{userId}/{filename}`

- プロフィール画像のバイナリデータ
- ユーザーごとにディレクトリ分離

---

## 9. 部員一覧ページでの表示項目（`/members`）

部員一覧では、各部員がカード形式で表示されます。表示される情報：

| 表示項目           | データソース      |
| ------------------ | ----------------- |
| プロフィール画像   | `profileImageUrl` |
| 氏名               | `name`            |
| 会社名             | `company`         |
| 事業内容プレビュー | `bio`（省略表示） |

- カード表示はランダム順（Fisher-Yatesシャッフル）
- カードクリックで部員詳細ページ（`/member/:id`）に遷移

---

## 10. 部員詳細ページでの表示項目（`/member/:id`）

| 表示項目               | データソース       | 表示条件                                                                                       |
| ---------------------- | ------------------ | ---------------------------------------------------------------------------------------------- |
| プロフィール画像（大） | `profileImageUrl`  | 常時                                                                                           |
| フリガナ               | `phoneticName`     | 値がある場合のみ                                                                               |
| 氏名                   | `name`             | 常時                                                                                           |
| 会社名                 | `company`          | 常時（未入力の場合「未設定」）                                                                 |
| 自己紹介・事業内容     | `bio`              | 常時（未入力の場合「未設定です」）                                                             |
| ニーズ対応             | `needs`            | 値がある場合のみ                                                                               |
| 青年部内取引事例       | `pastTransactions` | 値がある場合のみ                                                                               |
| 提供できる情報         | `providableInfo`   | 値がある場合のみ                                                                               |
| 求めている情報         | `seekingInfo`      | 値がある場合のみ                                                                               |
| ウェブサイト           | `website`          | 値がある場合のみ（リンク表示）                                                                 |
| SNS                    | `sns`              | 値がある場合のみ（プラットフォーム自動判別: Twitter/X, Instagram, Facebook, LinkedIn, TikTok） |
| YouTube                | `youtube`          | 値がある場合のみ（動画URLなら埋め込みプレイヤー表示、チャンネルURLならリンク表示）             |

---

## 11. サンプルデータ一覧

開発・デモ用に10人分のサンプルデータが用意されています：

| ID             | 氏名        | 会社名                 | 業種             |
| -------------- | ----------- | ---------------------- | ---------------- |
| sample-user-1  | 田中 太郎   | 田中建設株式会社       | 建設業           |
| sample-user-2  | 佐藤 花子   | Cafe Sunset            | 飲食業（カフェ） |
| sample-user-3  | 山田 次郎   | 山田ITソリューションズ | IT・Web制作      |
| sample-user-4  | 鈴木 美咲   | 鈴木美容室             | 美容業           |
| sample-user-5  | 高橋 大輔   | タカハシ水産           | 水産業           |
| sample-user-6  | 伊藤 かな子 | いとう会計事務所       | 税理士           |
| sample-user-7  | 渡辺 健一   | ワタナベ自動車整備工場 | 自動車整備       |
| sample-user-8  | 中村 さゆり | リゾートホテル美ら海   | ホテル業         |
| sample-user-9  | 小林 雄一   | コバヤシ不動産         | 不動産業         |
| sample-user-10 | 加藤 まりえ | かとう写真スタジオ     | 写真撮影         |

---

## 12. 認証方式

| 認証方式                  | 登録 | ログイン | パスワードリセット |
| ------------------------- | :--: | :------: | :----------------: |
| メールアドレス/パスワード |  ✓   |    ✓     |         ✓          |
| Googleアカウント          |  ✓   |    ✓     |         -          |

- パスワード認証ユーザーは後からGoogleアカウント連携が可能
- Google認証ユーザーはメールアドレス/パスワード変更不可（Google側で管理）

---

## 13. Firebase設定情報

```
プロジェクトID: chatan-members-site
Auth Domain: chatan-members-site.firebaseapp.com
Storage Bucket: chatan-members-site.firebasestorage.app
```

---

## 14. トップページの主要コンテンツ

1. **ヒーローセクション**: 「ビジネスネットワーキングの新しいかたち」メッセージ
2. **課題提起**: 顔と名前の不一致、事業内容を知る機会の不足、連携きっかけの不在
3. **システム目的**: 交流活性化、ビジネスマッチング促進、青年部の魅力向上
4. **使い方ガイド**: 3ステップ（登録→一覧閲覧→詳細確認）
5. **AIアシスタント案内**: GPTsによるプロフィール作成支援へのリンク
6. **QRコード**: スマートフォンからのアクセス用QRコード表示

---

## 15. UI/UX特徴

- **ダークモード対応のモダンUI**
- **アニメーション**: AOS（スクロールアニメーション）+ Vue Motion
- **レスポンシブデザイン**: モバイル・タブレット・デスクトップ対応
- **固定ヘッダー**: ログイン状態に応じたメニュー切り替え
- **モバイル**: ハンバーガーメニュー
- **印刷対応**: 印刷用スタイル最適化

---

## 16. 今後の拡張予定

- 検索・フィルタリング機能
- お気に入り機能
- メッセージング機能
- イベント管理機能
- 通知機能
